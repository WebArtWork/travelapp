import{g as z}from"./chunk-LLF3BWW6.js";import"./chunk-SZPVBJCN.js";import{$ as T,A as f,B as d,C as I,Ga as P,H as j,Ha as L,I as S,T as y,U as c,Va as O,W as g,Y as m,aa as F,ab as u,ba as D,ca as k,da as M,db as V,ea as N,eb as $,fa as A,fb as E,ga as p,hb as h,lb as H,ob as q,rb as R,tb as W,x as b,y as w,yb as Y}from"./chunk-XJM3K4MS.js";var v=(()=>{let t=class t extends V{constructor(o,i,n,r){super({name:"travelcity"},o,i,n,r),this.travelcities=[],this.get().subscribe(l=>this.travelcities.push(...l)),r.on("travelcity_create").subscribe(l=>{this.travelcities.push(l)}),r.on("travelcity_delete").subscribe(l=>{this.travelcities.splice(this.travelcities.findIndex(_=>_._id===l._id),1)})}};t.\u0275fac=function(i){return new(i||t)(f(E),f($),f(h),f(u))},t.\u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Q(e,t){if(e&1){let a=N();T(0,"div")(1,"winput",2),A("wChange",function(i){j(a);let n=p().$implicit,r=p();return r.city.data["to"+n._id]=i,S(r.tcs.updateAfterWhile(r.city))}),F()()}if(e&2){let a=p().$implicit,o=p();y(),m("placeholder","Please fill "+o.city.name+" to "+a.name)("value",o.city.data["to"+a._id]||null)("label",o.city.name+" to "+a.name)}}function U(e,t){if(e&1&&(k(0),g(1,Q,2,3,"div",1),M()),e&2){let a=t.$implicit,o=p();y(),m("ngIf",a._id!==o.city._id)}}var G=(()=>{let t=class t{constructor(o){this.tcs=o}};t.\u0275fac=function(i){return new(i||t)(c(v))},t.\u0275cmp=d({type:t,selectors:[["app-cities-distance"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"wChange","placeholder","value","label"]],template:function(i,n){i&1&&g(0,U,2,1,"ng-container",0),i&2&&m("ngForOf",n.tcs.travelcities)},dependencies:[P,L,q]});let e=t;return e})();var J=(()=>{let t=class t{get rows(){return this._st.travelcities}constructor(o,i,n,r,l,_){this._translate=o,this._st=i,this._alert=n,this._modal=r,this._form=l,this._core=_,this.columns=["name","short"],this.form=this._form.getForm("cities",{formId:"cities",title:"Cities",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill city title"},{name:"Label",value:"Title"}]},{name:"Text",key:"short",fields:[{name:"Placeholder",value:"fill city short"},{name:"Label",value:"Short"}]},{name:"Text",key:"href",fields:[{name:"Placeholder",value:"fill city href"},{name:"Label",value:"Href"}]}]}),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(s,C)=>{this._st.create(s),C()}})},update:s=>{this._form.modal(this.form,[],s).then(C=>{this._core.copy(C,s),this._st.update(s)})},delete:s=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this cservice?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._st.delete(s)}}]})},buttons:[{icon:"place",click:s=>{this._modal.show({component:G,city:s})}}]}}};t.\u0275fac=function(i){return new(i||t)(c(H),c(v),c(h),c(R),c(W),c(u))},t.\u0275cmp=d({type:t,selectors:[["ng-component"]],decls:1,vars:3,consts:[["title","Cities",3,"columns","config","rows"]],template:function(i,n){i&1&&D(0,"wtable",0),i&2&&m("columns",n.columns)("config",n.config)("rows",n.rows)},dependencies:[Y]});let e=t;return e})();var X=[{path:"",component:J}],ut=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=I({type:t}),t.\u0275inj=w({imports:[O.forChild(X),z]});let e=t;return e})();export{ut as CitiesModule};
