import{g as x}from"./chunk-LLF3BWW6.js";import"./chunk-SZPVBJCN.js";import{A as m,B as d,C as v,U as c,Va as C,Y as y,ab as l,ba as b,db as j,eb as g,fb as I,hb as f,lb as S,tb as w,x as p,y as u,yb as _}from"./chunk-XJM3K4MS.js";var k=(()=>{let t=class t extends j{constructor(o,e,s,a){super({name:"travelcity"},o,e,s,a),this.travelcitys=[],this.get().subscribe(n=>this.travelcitys.push(...n)),a.on("travelcity_create").subscribe(n=>{this.travelcitys.push(n)}),a.on("travelcity_delete").subscribe(n=>{this.travelcitys.splice(this.travelcitys.findIndex(r=>r._id===n._id),1)})}};t.\u0275fac=function(e){return new(e||t)(m(I),m(g),m(f),m(l))},t.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var F=(()=>{let t=class t{get rows(){return this._st.travelcitys}constructor(o,e,s,a,n){this._translate=o,this._alert=e,this._st=s,this._form=a,this._core=n,this.columns=["name","short"],this.form=this._form.getForm("cities",{formId:"cities",title:"Cities",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill city title"},{name:"Label",value:"Title"}]},{name:"Text",key:"short",fields:[{name:"Placeholder",value:"fill city short"},{name:"Label",value:"Short"}]}]}),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(r,h)=>{this._st.create(r),h()}})},update:r=>{this._form.modal(this.form,[],r).then(h=>{this._core.copy(h,r),this._st.update(r)})},delete:r=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this cservice?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._st.delete(r)}}]})}}}};t.\u0275fac=function(e){return new(e||t)(c(S),c(f),c(k),c(w),c(l))},t.\u0275cmp=d({type:t,selectors:[["ng-component"]],decls:1,vars:3,consts:[["title","Cities",3,"columns","config","rows"]],template:function(e,s){e&1&&b(0,"wtable",0),e&2&&y("columns",s.columns)("config",s.config)("rows",s.rows)},dependencies:[_]});let i=t;return i})();var N=[{path:"",component:F}],B=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=v({type:t}),t.\u0275inj=u({imports:[C.forChild(N),x]});let i=t;return i})();export{B as CitiesModule};
